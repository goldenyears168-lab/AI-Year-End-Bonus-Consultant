æˆ‘å€‘å°‡ä½¿ç”¨ streamlit åŸç”Ÿå…ƒä»¶ä¾†æ§‹å»ºï¼Œä¸éœ€é¡å¤–çš„ HTML/CSS hackï¼Œç¢ºä¿é–‹ç™¼é€Ÿåº¦èˆ‡ç©©å®šæ€§ã€‚

ğŸ¨ ä»‹é¢ä½ˆå±€ç¸½è¦½ (UI Layout Blueprint)
æ•´å€‹é é¢åˆ†ç‚º å·¦å´æ§åˆ¶è‰™ (Control Panel) èˆ‡ å³å´æˆ°æƒ…å®¤ (War Room)ã€‚

Plaintext

+----------------------+--------------------------------------------------+
| [Sidebar]            | [Main Page]                                      |
|                      |                                                  |
| 1. ä¼æ¥­æ•¸æ“šè¼¸å…¥å€     |  1. æ¨™é¡Œèˆ‡ç‹€æ…‹åˆ— (Header)                        |
|    [ç‡Ÿæ”¶/ç²åˆ©...]     |                                                  |
|                      |  2. è²¡å‹™å„€è¡¨æ¿ (Metrics Dashboard)               |
| 2. æ±ºç­–åƒæ•¸å€         |     [ç¸½çé‡‘æ± ]  [äººå‡é‡‘é¡]  [å¹³å‡æœˆæ•¸]        |
|    [ä¿ç•™ç›ˆé¤˜ Slider]  |                                                  |
|    [é¢¨æ ¼ Radio]      |  3. AI é¡§å•å ±å‘Šå€ (Report Container)             |
|                      |     [Markdown æ¸²æŸ“çš„è©³ç´°å»ºè­°æ›¸...]               |
| 3. å‹•ä½œå€             |                                                  |
|    [ğŸš€ ç”Ÿæˆè‰æ¡ˆæŒ‰éˆ•]  |                                                  |
|    [ğŸ—‘ï¸ æ¸…é™¤é‡ç½®]      |  4. äº’å‹•è«®è©¢å€ (Chat Interface)                  |
|                      |     [é è¨­å¿«æ·æŒ‰éˆ•ç¾¤]                             |
|                      |     [å°è©±æ¡†: æ‚¨å¥½ï¼Œæˆ‘æ˜¯ Jack çš„ AI æ›¿èº«...]      |
|                      |     [è¼¸å…¥æ¡†: è«‹è¼¸å…¥æ‚¨çš„å•é¡Œ...]                  |
+----------------------+--------------------------------------------------+
ğŸ” è©³ç´°å…ƒä»¶è¦æ ¼ (Component Specs)
å€åŸŸ 1ï¼šå·¦å´æ§åˆ¶è‰™ (st.sidebar)
ç›®çš„ï¼š é–å®šè®Šæ•¸ã€‚é€™æ˜¯ç”¨æˆ¶å”¯ä¸€éœ€è¦ã€Œå‹•è…¦å¡«å¯«ã€çš„åœ°æ–¹ã€‚

**ğŸ¯ å‡ç´šç‰ˆè¨­è¨ˆç†å¿µï¼šå¾ã€Œå¡«æ•¸å­—ã€è½‰ç‚ºã€Œèª¿æ§“æ¡¿ã€**

é ‚ç´šé¡§å•çš„ä»‹é¢ä¸æ˜¯ã€Œå ±ç¨…è¡¨ã€ï¼Œè€Œæ˜¯ã€Œæ±ºç­–å„€è¡¨æ¿ã€ã€‚è€é—†ä¸æ˜¯åœ¨å¡«è¡¨ï¼Œè€Œæ˜¯åœ¨åˆ¶å®šæˆ°ç•¥ã€‚

æ¨™é¡Œå€

å…ƒä»¶ï¼šst.title("ğŸ¯ CEO æ±ºç­–æ§“æ¡¿")

èªªæ˜ï¼šç”¨ã€Œæ±ºç­–æ§“æ¡¿ã€å–ä»£ã€Œæ•¸æ“šè¨­å®šã€ï¼Œè®“è€é—†æ„Ÿè¦ºåœ¨ã€Œèª¿æ§æˆ°ç•¥ã€è€Œéã€Œå¡«å¯«è¡¨æ ¼ã€ã€‚

---

**æ§“æ¡¿ 1ï¼šç”Ÿå­˜æ§“æ¡¿ (Survival Lever)**

æ¨™é¡Œï¼šst.subheader("ğŸ›¡ï¸ ç”Ÿå­˜æ§“æ¡¿ (Safety Margin)")

è€é—†ä¿ç•™ç›ˆé¤˜ï¼šst.slider

Label: "å…¬å¸å®‰å…¨æ°£å›Š (%)"

Min: 0, Max: 100, Default: 70

Help: "é€™ç­†ä¿ç•™ç›ˆé¤˜èƒ½è®“å…¬å¸åœ¨é›¶æ”¶å…¥ç‹€æ…‹ä¸‹å­˜æ´»å¹¾å€‹æœˆï¼Ÿæ•¸å€¼è¶Šé«˜ï¼Œå…¬å¸æŠ—é¢¨éšªèƒ½åŠ›è¶Šå¼·ï¼Œä½†ç™¼çµ¦å“¡å·¥çš„è¶Šå°‘ã€‚å»ºè­°ç©©å¥å‹ä¿ç•™ 70-80%ã€‚**æ³¨æ„ï¼šæ­¤ä¿ç•™æ¯”ä¾‹åŒ…å«è‚¡æ±åˆ†æ½¤èˆ‡æ˜å¹´ç‡Ÿé‹é€±è½‰é‡‘ã€‚**"

**å‹•æ…‹é¡¯ç¤ºå­˜æ´»æœˆæ•¸**ï¼ˆè™•ç†å†·å•Ÿå‹•å•é¡Œï¼‰ï¼š

âš ï¸ **æµç¨‹é¡§å•æé†’**ï¼šé€™æ®µç¨‹å¼ç¢¼ä¸èƒ½ä¾è³´ `st.session_state.pipeline_context`ï¼Œå› ç‚ºç”¨æˆ¶ç¬¬ä¸€æ¬¡æ‰“é–‹ç¶²é æ™‚ Pipeline é‚„æ²’è·‘éï¼ŒContext æ˜¯ç©ºçš„ã€‚

```python
# åœ¨ slider ä¸‹æ–¹é¡¯ç¤ºå‹•æ…‹è¨ˆç®—ï¼ˆä¸ä¾è³´ Pipeline Contextï¼‰
# ä½¿ç”¨ç•¶å‰ Sidebar çš„å³æ™‚æ•¸æ“šé€²è¡Œéœæ…‹ä¼°ç®—
monthly_burn = employees * avg_salary  # ç°¡å–®ä¼°ç®—ï¼šå“¡å·¥æ•¸ Ã— å¹³å‡æœˆè–ªï¼ˆå–®ä½ï¼šå…ƒï¼‰
if monthly_burn > 0:
    # ä¿ç•™ç›ˆé¤˜é‡‘é¡ = æ·¨åˆ© Ã— ä¿ç•™æ¯”ä¾‹ï¼ˆæ³¨æ„ï¼šnet_profit å–®ä½æ˜¯è¬å…ƒï¼Œéœ€è½‰æ›ï¼‰
    retained_amount = (net_profit * 10000) * (retention / 100.0)  # è½‰æ›ç‚ºå…ƒ
    survival_months = retained_amount / monthly_burn
    st.caption(f"ğŸ’¡ éœæ…‹ä¼°ç®—ï¼šç´„å¯æ”¯æ’ {survival_months:.1f} å€‹æœˆï¼ˆç²¾ç¢ºåˆ†æè«‹é»æ“Šã€Œç”Ÿæˆè‰æ¡ˆã€ï¼‰")
else:
    st.caption("ğŸ’¡ è«‹å…ˆè¼¸å…¥å“¡å·¥æ•¸å’Œå¹³å‡æœˆè–ª")
```

**è¨­è¨ˆåŸå‰‡**ï¼š
- âœ… ä½¿ç”¨ç•¶å‰ Sidebar çš„å³æ™‚æ•¸æ“šï¼ˆä¸ä¾è³´ Pipelineï¼‰
- âœ… æä¾›ã€Œéœæ…‹ä¼°ç®—ã€ï¼Œè®“ç”¨æˆ¶åœ¨ç”Ÿæˆå ±å‘Šå‰å°±èƒ½çœ‹åˆ°åˆæ­¥çµæœ
- âœ… æç¤ºç”¨æˆ¶é»æ“Šã€Œç”Ÿæˆè‰æ¡ˆã€ç²å¾—ç²¾ç¢ºåˆ†æ
- âœ… è™•ç†é‚Šç•Œæƒ…æ³ï¼ˆmonthly_burn = 0ï¼‰

åˆ†éš”ç·šï¼šst.markdown("---")

---

**æ§“æ¡¿ 2ï¼šæ¿€å‹µæ§“æ¡¿ (Motivation Lever)**

æ¨™é¡Œï¼šst.subheader("ğŸš€ æ¿€å‹µæ§“æ¡¿ (Motivation Strategy)")

åˆ†é…é¢¨æ ¼ï¼šst.radio

Label: "äººæ‰æŠ•è³‡ç­–ç•¥"

Options: [
    "ç•™æ‰å„ªå…ˆ (Retention First)", 
    "æˆ°åŠŸå„ªå…ˆ (Performance First)", 
    "åœ˜éšŠå„ªå…ˆ (Team First)"
]

Help: "é€™æ±ºå®šäº†çé‡‘æ± çš„åˆ†é…é‚è¼¯ã€‚ç•™æ‰å„ªå…ˆ = ç©©å¥å‹ï¼ˆSç´š 1.5å€ï¼‰ï¼Œæˆ°åŠŸå„ªå…ˆ = æ¿€å‹µå‹ï¼ˆSç´š 2.0å€ï¼‰ï¼Œåœ˜éšŠå„ªå…ˆ = æ™®æƒ å‹ï¼ˆå·®è·ç¸®å°ï¼‰ã€‚"

**é¡§å•åŒ–èªªæ˜**ï¼ˆåœ¨é¸é …ä¸‹æ–¹é¡¯ç¤ºï¼‰ï¼š

```python
if style == "ç•™æ‰å„ªå…ˆ (Retention First)":
    st.caption("ğŸ’¡ ç­–ç•¥ï¼šç¢ºä¿æ ¸å¿ƒæˆ°åŠ›ä¸æµå¤±ï¼Œé©åˆç©©å®šæˆé•·æœŸ")
elif style == "æˆ°åŠŸå„ªå…ˆ (Performance First)":
    st.caption("ğŸ’¡ ç­–ç•¥ï¼šé‡è³å‹‡å¤«ï¼Œå»ºç«‹ç¸¾æ•ˆæ–‡åŒ–ï¼Œé©åˆå¿«é€Ÿæ“´å¼µæœŸ")
else:
    st.caption("ğŸ’¡ ç­–ç•¥ï¼šäººäººæœ‰çï¼Œå¼·åŒ–åœ˜éšŠå‡èšåŠ›ï¼Œé©åˆè½‰å‹æœŸ")
```

åˆ†éš”ç·šï¼šst.markdown("---")

---

**æ§“æ¡¿ 3ï¼šç¾å¯¦æ§“æ¡¿ (Reality Lever)**

æ¨™é¡Œï¼šst.subheader("ğŸ’° ç¾å¯¦æ§“æ¡¿ (Financial Reality)")

èªªæ˜æ–‡å­—ï¼šst.caption("è«‹è¼¸å…¥å…¬å¸çš„è²¡å‹™åº•æ°£")

ç¡¬æŒ‡æ¨™è¼¸å…¥ (Financial Inputs)

å¹´åº¦ç¸½ç‡Ÿæ”¶ï¼šst.number_input

Label: "å¹´åº¦ç¸½ç‡Ÿæ”¶ (è¬å…ƒ)"

Default: 1000

Step: 10

ç¨…å‰æ·¨åˆ©ï¼šst.number_input

Label: "ç¨…å‰æ·¨åˆ© (è¬å…ƒ)"

Help: "è«‹æ‰£é™¤ç‡Ÿæ¥­æˆæœ¬èˆ‡è²»ç”¨ï¼Œä½†åœ¨æ‰£ç¨…ä¹‹å‰çš„é‡‘é¡ã€‚"

Default: 100

å…¨é«”å“¡å·¥äººæ•¸ï¼šst.number_input

Label: "ç¬¦åˆç™¼æ”¾è³‡æ ¼äººæ•¸"

Min: 1

å¹³å‡æœˆè–ªï¼šst.number_input

Label: "å¹³å‡æœˆè–ª (å…ƒ)"

Default: 40000

Step: 1000

Min: 1

è§¸ç™¼æŒ‰éˆ•

å…ƒä»¶ï¼šst.button("ğŸš€ é–‹å§‹åˆ†æ / ç”Ÿæˆè‰æ¡ˆ", type="primary", use_container_width=True)

è¨»ï¼šä½¿ç”¨ primary æ¨£å¼ï¼ˆç´…è‰²/é‡é»è‰²ï¼‰å¼·èª¿é€™æ˜¯å”¯ä¸€é‡è¦çš„æŒ‰éˆ•ã€‚

å€åŸŸ 2ï¼šè²¡å‹™å„€è¡¨æ¿ (st.columns)
ç›®çš„ï¼š ä¸€ç§’é˜å»ºç«‹èªçŸ¥ã€‚è®“è€é—†çœ‹åˆ°æ•¸å­—çš„ã€Œçµæœã€ã€‚

ä½ˆå±€ï¼šcol1, col2, col3 = st.columns(3)

å…ƒä»¶ 1 (ç¸½æ± )ï¼šcol1.metric("ğŸ’° é è¨ˆç™¼æ”¾ç¸½é¡", "$60 è¬", delta="-10% (èˆ‡å»å¹´æ¯”)")

è¨»ï¼šdelta æ˜¯é¸å¡«ï¼Œè‹¥ç„¡å»å¹´æ•¸æ“šå¯çœç•¥ã€‚

å…ƒä»¶ 2 (äººå‡)ï¼šcol2.metric("ğŸ‘¤ å¹³å‡æ¯äººå¯å¾—", "$12 è¬")

å…ƒä»¶ 3 (å€æ•¸)ï¼šcol3.metric("ğŸ“… å¹³å‡æœˆæ•¸", "3.0 å€‹æœˆ", delta_color="normal")

é‚è¼¯ï¼š è‹¥æœˆæ•¸ < 0.5ï¼Œé¡¯ç¤ºç´…è‰²å­—é«”è­¦å‘Šã€‚

å€åŸŸ 3ï¼šAI é¡§å•å ±å‘Šå€ (st.container with border)
ç›®çš„ï¼š äº¤ä»˜åƒ¹å€¼ã€‚é€™æ˜¯ AI æ ¹æ“š Pipeline ç”¢å‡ºçš„æ ¸å¿ƒå…§å®¹ã€‚

**ğŸ¯ å‡ç´šç‰ˆè¨­è¨ˆç†å¿µï¼šå¾ã€Œåˆ†é…è‰æ¡ˆã€è½‰ç‚ºã€Œæ±ºç­–å‚™å¿˜éŒ„ã€**

é ‚ç´šé¡§å•çš„è¼¸å‡ºä¸æ˜¯ã€Œçµ¦ä½ çœ‹çµæœã€ï¼Œè€Œæ˜¯ã€Œé€¼ä½ åšæ±ºå®šã€ã€‚è¼¸å‡ºæ ¼å¼å¿…é ˆæ˜¯ã€Œé»ƒé‡‘ä¸‰æ®µå¼ã€ï¼Œæ¯æ®µä¸è¶…é 3 å¥è©±ã€‚

æ¨™é¡Œï¼šst.subheader("ğŸ“‹ æ±ºç­–å‚™å¿˜éŒ„ (Executive Memo)")

å…§å®¹å®¹å™¨ï¼š

ä½¿ç”¨ with st.container(border=True): ç•«å‡ºä¸€å€‹æœ‰é‚Šæ¡†çš„å¡ç‰‡å€åŸŸã€‚

å…ƒä»¶ï¼šst.markdown(ai_response_content)

**æ ¼å¼è¦æ±‚ï¼ˆåš´æ ¼éµå®ˆï¼‰**ï¼š

AI è¼¸å‡ºå¿…é ˆéµå¾ªã€Œé»ƒé‡‘ä¸‰æ®µå¼ã€çµæ§‹ï¼Œåˆªé™¤æ‰€æœ‰å»¢è©±ï¼š

1. **ğŸ¯ æˆ°ç•¥åˆ¤æ–· (The Verdict)**ï¼šä¸€å¥è©±ç¸½çµç›®å‰çš„è²¡å‹™çµæ§‹é©åˆä»€éº¼ç­–ç•¥
2. **âš–ï¸ å–æ¨åˆ†æ (The Trade-off)**ï¼šæ˜ç¢ºæŒ‡å‡ºæ–¹æ¡ˆçš„é¢¨éšªå’Œæ•ˆç›Šï¼Œè€é—†éœ€è¦åšä»€éº¼æ±ºå®š
3. **ğŸ’¬ é—œéµå°è©± (The Script)**ï¼šåªçµ¦ä¸€å¥è©±ï¼Œé‡å°æœ€é‡è¦çš„å“¡å·¥ç¾¤é«”ï¼ˆé€šå¸¸æ˜¯ S ç´šï¼‰

**ç¦æ­¢äº‹é …**ï¼š
- ä¸è¦åˆ—å‡ºæ‰€æœ‰ç­‰ç´šçš„çé‡‘æ•¸å­—ï¼ˆé‚£æ˜¯è¨ˆç®—å™¨çš„æ´»ï¼‰
- ä¸è¦èªªã€Œæ ¹æ“šè¨ˆç®—...ã€ï¼ˆç›´æ¥çµ¦åˆ¤æ–·ï¼‰
- ä¸è¦è¶…éä¸€é  A4 ç´™çš„é•·åº¦

**ç¯„ä¾‹è¼¸å‡ºçµæ§‹**ï¼š

```markdown
### ğŸ¯ æˆ°ç•¥åˆ¤æ–· (The Verdict)
ç›®å‰çš„ç²åˆ©çµæ§‹å¥åº·ï¼Œå…·å‚™ã€Œç©æ¥µæ¶æ‰ã€çš„æœ¬éŒ¢ã€‚å»ºè­°ç™¼æ”¾æ°´æº–è¨­å®šç‚ºã€Œå¸‚å ´å‰ 25%ã€ä»¥å»ºç«‹é›‡ä¸»å“ç‰Œã€‚

### âš–ï¸ å–æ¨åˆ†æ (The Trade-off)
æœ¬æ–¹æ¡ˆå°‡ 60% çé‡‘é›†ä¸­æ–¼å‰ 20% å“¡å·¥ã€‚é¢¨éšªæ˜¯å¯èƒ½é€ æˆå¾Œæ®µç­ä¸å®‰ï¼Œä½†æ•ˆç›Šæ˜¯ç¢ºä¿æ ¸å¿ƒæˆ°åŠ›æ˜å¹´ Q1 ä¸æµå¤±ã€‚æ‚¨æ˜¯å¦æ¥å—æ­¤é¢¨éšªï¼Ÿ

### ğŸ’¬ é—œéµå°è©± (The Script)
å° S ç´šå“¡å·¥çš„é—œéµä¸€å¥è©±ï¼šã€Œé€™ç­†çé‡‘ä¸æ˜¯çå‹µéå»ï¼Œè€Œæ˜¯æˆ‘å°ä½ æ˜å¹´å¸¶é ˜æ–°å°ˆæ¡ˆçš„æŠ•è³‡ã€‚ã€
```

å€åŸŸ 4ï¼šäº’å‹•è«®è©¢å€ (Chat Interface)
ç›®çš„ï¼š æ¶ˆé™¤ç–‘æ…®ã€‚è™•ç† Edge Cases å’Œå®‰æ’«æƒ…ç·’ã€‚

å¿«æ·è¿½å•æŒ‰éˆ• (Chips)

åœ¨èŠå¤©æ¡†ä¸Šæ–¹æ”¾ç½®ä¸€æ’å°æŒ‰éˆ•ï¼Œå¼•å°ç”¨æˆ¶æå•ã€‚

c1, c2, c3 = st.columns([1,1,1])

c1.button("âš ï¸ åˆ†ææ½›åœ¨é¢¨éšª")

c2.button("ğŸ—£ï¸ ç”Ÿæˆé¢è«‡è©±è¡“")

c3.button("âš–ï¸ èª¿æ•´ç‚ºæ¿€å‹µå‹")

èŠå¤©è¨˜éŒ„é¡¯ç¤º

ä½¿ç”¨ for msg in st.session_state.messages: è¿´åœˆã€‚

å…ƒä»¶ï¼šst.chat_message("user") å’Œ st.chat_message("assistant", avatar="ğŸ¤–")ã€‚

è¦–è¦ºç´°ç¯€ï¼š çµ¦ AI ä¸€å€‹æ©Ÿå™¨äººæˆ–é¡§å•çš„é ­åƒã€‚

è¼¸å…¥æ¡†

å…ƒä»¶ï¼šst.chat_input("è«‹è¼¸å…¥æ‚¨çš„å•é¡Œ... (ä¾‹å¦‚ï¼šå¦‚æœä¸ç™¼çµ¦æ–°äººæœƒé•åå‹åŸºæ³•å—ï¼Ÿ)")

ğŸ¨ é¢¨æ ¼èˆ‡é…è‰² (Theming)
ç‚ºäº†å±•ç¾ã€Œå°ˆæ¥­é¡§å•ã€çš„ä¿¡ä»»æ„Ÿï¼Œå»ºè­°åœ¨ .streamlit/config.toml è¨­å®šä»¥ä¸‹ä¸»é¡Œé¡è‰²ï¼š

Ini, TOML

[theme]
primaryColor = "#FF4B4B"   # Streamlit ç´…ï¼Œæˆ–æ”¹ç‚ºæ·±è— "#0E1117" å±•ç¾å•†å‹™æ„Ÿ
backgroundColor = "#FFFFFF"
secondaryBackgroundColor = "#F0F2F6" # æ·ºç°ï¼Œç”¨æ–¼ Sidebar
textColor = "#262730"
font = "sans serif"
ğŸ‘¨â€ğŸ’» ç³»çµ±å·¥ç¨‹å¸«çš„é–‹ç™¼é †åºå»ºè­°
å…ˆç•«éª¨æ¶ (Skeleton)ï¼š æŠŠæ‰€æœ‰ st. å…ƒä»¶å¯«å‡ºä¾†ï¼Œå…ˆä¸è¦æ¥é‚è¼¯ï¼Œç¢ºä¿ç‰ˆé¢æ˜¯å°çš„ã€‚

æ¥ä¸Šç¥ç¶“ (Wiring)ï¼š æŠŠ Sidebar çš„è®Šæ•¸ç¶å®šåˆ° st.session_stateã€‚

æ³¨å…¥éˆé­‚ (Pipeline)ï¼š æŠŠã€Œç”ŸæˆæŒ‰éˆ•ã€ç¶å®šåˆ°æˆ‘å€‘ä¹‹å‰å¯«çš„ pipeline.run()ã€‚

æœ€å¾Œæ‰“ç£¨ (Polish)ï¼š èª¿æ•´ Emojiã€åŠ ä¸Š Help Tooltipã€è™•ç†ç©ºå€¼éŒ¯èª¤ã€‚