# 🔍 診斷 Streamlit Cloud 部署問題的 10 個方法

## 方法 1：查看 Streamlit Cloud 日誌 ⭐ 最重要

1. 前往 https://share.streamlit.io/
2. 點擊你的應用
3. 找到 "Logs" 或 "View logs" 按鈕
4. 查看完整的錯誤訊息
5. 複製包含 `Traceback` 的部分

## 方法 2：使用瀏覽器開發者工具

1. 打開應用的 URL
2. 按 `F12` 打開開發者工具
3. 切換到 "Console" 標籤
4. 查看是否有 JavaScript 錯誤
5. 切換到 "Network" 標籤，查看請求是否失敗

## 方法 3：檢查 GitHub 文件是否都存在

在 GitHub 倉庫中確認：

```bash
# 在本地執行這個命令，檢查哪些文件可能沒有提交
cd golden_bonus_project
git status
git ls-files | grep -E "(main\.py|assets/|config/|core/|nodes/|utils/)"
```

或直接在 GitHub 網頁上檢查文件列表。

## 方法 4：本地模擬 Streamlit Cloud 環境

```bash
cd golden_bonus_project
# 確保在項目目錄外執行
cd ..
streamlit run golden_bonus_project/main.py
```

這會模擬 Streamlit Cloud 的執行環境（從項目外執行）。

## 方法 5：使用診斷腳本

```bash
cd golden_bonus_project
python3 diagnose_imports.py
```

這個腳本會測試所有導入，並顯示詳細的錯誤信息。

## 方法 6：使用最小測試版本

在 Streamlit Cloud 設置中，將 Main file path 臨時改為：
```
golden_bonus_project/test_minimal_streamlit.py
```

如果這個可以啟動，說明問題在 `main.py` 的某個特定部分。

## 方法 7：檢查 Python 版本兼容性

Streamlit Cloud 可能使用不同的 Python 版本。檢查：

1. 確認代碼兼容 Python 3.8+
2. 檢查是否有使用 Python 3.9+ 特性的代碼
3. 查看 `requirements.txt` 中的版本要求

## 方法 8：檢查文件編碼

確保所有 Python 文件使用 UTF-8 編碼：

```bash
# 檢查文件編碼
file -I golden_bonus_project/**/*.py
```

如果有非 UTF-8 的文件，可能導致導入錯誤。

## 方法 9：逐步恢復功能

如果最小版本可以啟動，可以逐步添加功能：

1. 先只導入基礎模組
2. 然後導入 nodes
3. 然後導入 assets
4. 找出是哪一步失敗

## 方法 10：查看 Streamlit Cloud 的系統日誌

1. 在 Streamlit Cloud Dashboard
2. 找到應用設置
3. 查看 "System logs" 或 "Infrastructure logs"
4. 這些日誌可能包含更底層的錯誤信息

## 🚀 推薦診斷流程

### 第一步：立即執行

1. **查看 Streamlit Cloud 日誌**（方法 1）
2. **確認所有文件都在 GitHub**（方法 3）
3. **本地模擬執行**（方法 4）

### 第二步：如果第一步沒找到問題

4. **使用診斷腳本**（方法 5）
5. **使用最小測試版本**（方法 6）

### 第三步：深入診斷

6. **檢查 Python 版本**（方法 7）
7. **逐步恢復功能**（方法 9）

## 📝 需要提供的診斷信息

如果以上方法都試過還是找不到問題，請提供：

1. ✅ Streamlit Cloud 的完整日誌（方法 1）
2. ✅ 本地執行 `streamlit run golden_bonus_project/main.py` 的結果（方法 4）
3. ✅ `diagnose_imports.py` 的輸出結果（方法 5）
4. ✅ GitHub 倉庫中的文件列表截圖（方法 3）

有了這些信息，就能精確定位問題！


